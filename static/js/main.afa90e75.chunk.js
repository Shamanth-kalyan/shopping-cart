(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),l=(n(15),n(16),n(3)),m=n(1),o=n(5),u=n(7),s=n(6),d=n(9);function p(e){var t=e.brand_name,n=e.product_name,a=e.quantity,c=e.mrp,i=e.price;return r.a.createElement("div",{className:"item-info"},r.a.createElement("span",{className:"item-name"},t),r.a.createElement("span",null,n),r.a.createElement("span",null,a),r.a.createElement("span",null,c),r.a.createElement("span",{className:"item-price"},i))}function f(e){var t=e.imageUrl;return r.a.createElement("img",{className:"item-image",src:t,alt:"food_image"})}var h=n(2);function v(e){var t,n=e.increment,c=e.decrement,i=e.itemDetail,m={brandName:i.brandName,price:(t=i.price,parseInt(t.replace(/[^0-9.]/g,""),10)),itemCount:i.itemCount},o=function(e){var t=Object(a.useState)(e),n=Object(h.a)(t,2),r=n[0],c=n[1];return[r,function(e){return new Promise((function(t){c(e),t(e)}))}]}(m),u=Object(h.a)(o,2),s=u[0],d=u[1];function p(){s.itemCount<=i.quantity-1&&d(Object(l.a)({},s,{itemCount:s.itemCount+1})).then((function(e){return n(e)}))}return Object(a.useEffect)((function(){d(m)}),[i]),r.a.createElement("div",{className:"item-counter"},r.a.createElement("button",{onClick:p},"Add to cart"),r.a.createElement("div",{className:"counter"},r.a.createElement("span",{onClick:function(){s.itemCount>=1&&d(Object(l.a)({},s,{itemCount:s.itemCount-1})).then((function(e){return c(e)}))}},"-"),r.a.createElement("input",{type:"number",value:s.itemCount,disabled:!0}),r.a.createElement("span",{onClick:p},"+")))}function E(e){var t=e.image_url,n=e.offer_text,a=e.increment,c=e.decrement,i=Object(d.a)(e,["image_url","offer_text","increment","decrement"]),l={price:i.price,quantity:i.quantity,brandName:i.brand_name,itemCount:i.itemCount};return r.a.createElement("div",{className:"cart-item"},r.a.createElement("div",{className:"item-img-offer"},r.a.createElement(f,{imageUrl:t}),r.a.createElement("span",null,n)),r.a.createElement("div",{className:"item-detail"},r.a.createElement(p,i),r.a.createElement(v,{increment:a,decrement:c,itemDetail:l})))}var b=document.getElementById("portal"),y=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).element=document.createElement("div"),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){document.body.style.overflow="hidden",b.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){b.removeChild(this.element),document.body.style.overflow="unset"}},{key:"render",value:function(){return Object(c.createPortal)(r.a.createElement("div",{className:"order-detail"},r.a.createElement("div",{className:"modal"},r.a.createElement("span",{className:"close-icon",onClick:this.props.toggleOrderModal},"X"),r.a.createElement("h1",null,"Order received successfully."),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Brand Name"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Item Count"),r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,this.props.cartItems.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.brandName),r.a.createElement("td",null,e.price),r.a.createElement("td",null,e.itemCount),r.a.createElement("td",null,e.price*e.itemCount))})))),r.a.createElement("div",{className:"total-amount"},"Grand Total: ",this.props.total))),this.element)}}]),n}(r.a.Component);function C(e){var t=e.quantity,n=e.total,c=e.cartItems,i=e.resetCartItems,l=Object(a.useState)(!1),m=Object(h.a)(l,2),o=m[0],u=m[1];function s(){o&&i(),u(!o)}return r.a.createElement("div",{className:"checkout-detail"},r.a.createElement("div",null,r.a.createElement("span",null,"Qty: ",t),r.a.createElement("span",null,"Total: ",n)),r.a.createElement("button",{onClick:s},"Checkout"),o&&r.a.createElement(y,{total:n,cartItems:c,toggleOrderModal:function(){return s()}}))}var I=new function e(){Object(m.a)(this,e),this.getCartItems=function(){return fetch("/cart-items.json").then((function(e){return e.json()}))}},g=(n(17),n(18),function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(m.a)(this,n),(e=t.call(this)).state={shoppingItems:[],cartItems:[],quantity:0,total:0},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getCartItems()}},{key:"getCartItems",value:function(){var e=this;I.getCartItems().then((function(t){var n=t.data.map((function(e){return Object(l.a)({},e,{itemCount:0,total:0})}));e.setState({shoppingItems:n})}))}},{key:"addCartItems",value:function(e){var t=this.state.cartItems.filter((function(t){return t.brandName!==e.brandName}));return t.push(e),t}},{key:"setItemQuantity",value:function(e){return this.state.shoppingItems.map((function(t){return t.brand_name===e.brandName&&(t.itemCount=e.itemCount),t}))}},{key:"increment",value:function(e){var t=this;this.setState((function(n){return{shoppingItems:t.setItemQuantity(e),quantity:n.quantity+1,total:n.total+e.price,cartItems:t.addCartItems(e)}}))}},{key:"decrement",value:function(e){var t=this;this.setState((function(n){return{shoppingItems:t.setItemQuantity(e),quantity:n.quantity-1,total:n.total-e.price,cartItems:t.addCartItems(e)}}))}},{key:"resetCartItems",value:function(){this.setState(Object(l.a)({},this.state,{cartItems:[],quantity:0,total:0})),this.getCartItems()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"shopping-cart"},this.state.shoppingItems.map((function(t,n){return r.a.createElement(E,Object.assign({increment:function(t){return e.increment(t)},decrement:function(t){return e.decrement(t)},key:n},t))})),r.a.createElement(C,{quantity:this.state.quantity,total:this.state.total,cartItems:this.state.cartItems,resetCartItems:function(){return e.resetCartItems()}}))}}]),n}(r.a.Component));var O=function(){return r.a.createElement(g,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.afa90e75.chunk.js.map